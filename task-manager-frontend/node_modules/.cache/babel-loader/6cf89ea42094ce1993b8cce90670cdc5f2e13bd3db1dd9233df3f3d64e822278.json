{"ast":null,"code":"import{useState,useEffect}from'react';import taskService from'../services/taskService';const useTasks=()=>{const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchTasks=async()=>{try{setLoading(true);const data=await taskService.getAllTasks();setTasks(data);setError(null);}catch(err){setError(err.message||'Failed to fetch tasks');}finally{setLoading(false);}};const addTask=async task=>{try{const newTask=await taskService.createTask(task);setTasks(prevTasks=>[...prevTasks,newTask]);return newTask;}catch(err){setError(err.message||'Failed to add task');throw err;}};const updateTask=async(id,updatedTask)=>{try{const task=await taskService.updateTask(id,updatedTask);setTasks(prevTasks=>prevTasks.map(t=>t.id===id?task:t));return task;}catch(err){setError(err.message||'Failed to update task');throw err;}};const deleteTask=async id=>{try{await taskService.deleteTask(id);setTasks(prevTasks=>prevTasks.filter(t=>t.id!==id));}catch(err){setError(err.message||'Failed to delete task');throw err;}};const completeTask=async id=>{try{const task=await taskService.markTaskAsCompleted(id);setTasks(prevTasks=>prevTasks.map(t=>t.id===id?task:t));return task;}catch(err){setError(err.message||'Failed to complete task');throw err;}};useEffect(()=>{fetchTasks();},[]);return{tasks,loading,error,fetchTasks,addTask,updateTask,deleteTask,completeTask};};export default useTasks;","map":{"version":3,"names":["useState","useEffect","taskService","useTasks","tasks","setTasks","loading","setLoading","error","setError","fetchTasks","data","getAllTasks","err","message","addTask","task","newTask","createTask","prevTasks","updateTask","id","updatedTask","map","t","deleteTask","filter","completeTask","markTaskAsCompleted"],"sources":["/home/vandol/projects/taskzai/task-manager-frontend/src/hooks/useTasks.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport taskService from '../services/taskService';\n\nconst useTasks = () => {\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchTasks = async () => {\n    try {\n      setLoading(true);\n      const data = await taskService.getAllTasks();\n      setTasks(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch tasks');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addTask = async (task) => {\n    try {\n      const newTask = await taskService.createTask(task);\n      setTasks(prevTasks => [...prevTasks, newTask]);\n      return newTask;\n    } catch (err) {\n      setError(err.message || 'Failed to add task');\n      throw err;\n    }\n  };\n\n  const updateTask = async (id, updatedTask) => {\n    try {\n      const task = await taskService.updateTask(id, updatedTask);\n      setTasks(prevTasks => \n        prevTasks.map(t => t.id === id ? task : t)\n      );\n      return task;\n    } catch (err) {\n      setError(err.message || 'Failed to update task');\n      throw err;\n    }\n  };\n\n  const deleteTask = async (id) => {\n    try {\n      await taskService.deleteTask(id);\n      setTasks(prevTasks => prevTasks.filter(t => t.id !== id));\n    } catch (err) {\n      setError(err.message || 'Failed to delete task');\n      throw err;\n    }\n  };\n\n  const completeTask = async (id) => {\n    try {\n      const task = await taskService.markTaskAsCompleted(id);\n      setTasks(prevTasks => \n        prevTasks.map(t => t.id === id ? task : t)\n      );\n      return task;\n    } catch (err) {\n      setError(err.message || 'Failed to complete task');\n      throw err;\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return {\n    tasks,\n    loading,\n    error,\n    fetchTasks,\n    addTask,\n    updateTask,\n    deleteTask,\n    completeTask,\n  };\n};\n\nexport default useTasks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}