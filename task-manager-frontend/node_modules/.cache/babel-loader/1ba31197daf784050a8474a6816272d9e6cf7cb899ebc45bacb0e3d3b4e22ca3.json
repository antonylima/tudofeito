{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport taskService from '../services/taskService';\nconst useTasks = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchTasks = async () => {\n    try {\n      setLoading(true);\n      const data = await taskService.getAllTasks();\n      setTasks(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch tasks');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const addTask = async task => {\n    try {\n      const newTask = await taskService.createTask(task);\n      setTasks(prevTasks => [...prevTasks, newTask]);\n      return newTask;\n    } catch (err) {\n      setError(err.message || 'Failed to add task');\n      throw err;\n    }\n  };\n  const updateTask = async (id, updatedTask) => {\n    try {\n      const task = await taskService.updateTask(id, updatedTask);\n      setTasks(prevTasks => prevTasks.map(t => t.id === id ? task : t));\n      return task;\n    } catch (err) {\n      setError(err.message || 'Failed to update task');\n      throw err;\n    }\n  };\n  const deleteTask = async id => {\n    try {\n      await taskService.deleteTask(id);\n      setTasks(prevTasks => prevTasks.filter(t => t.id !== id));\n    } catch (err) {\n      setError(err.message || 'Failed to delete task');\n      throw err;\n    }\n  };\n  const completeTask = async id => {\n    try {\n      const task = await taskService.markTaskAsCompleted(id);\n      setTasks(prevTasks => prevTasks.map(t => t.id === id ? task : t));\n      return task;\n    } catch (err) {\n      setError(err.message || 'Failed to complete task');\n      throw err;\n    }\n  };\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n  return {\n    tasks,\n    loading,\n    error,\n    fetchTasks,\n    addTask,\n    updateTask,\n    deleteTask,\n    completeTask\n  };\n};\n_s(useTasks, \"qwRs5Xd4E7WtXCZK9zh6nomhOw4=\");\nexport default useTasks;","map":{"version":3,"names":["useState","useEffect","taskService","useTasks","_s","tasks","setTasks","loading","setLoading","error","setError","fetchTasks","data","getAllTasks","err","message","addTask","task","newTask","createTask","prevTasks","updateTask","id","updatedTask","map","t","deleteTask","filter","completeTask","markTaskAsCompleted"],"sources":["/home/vandol/projects/tudofeito/task-manager-frontend/src/hooks/useTasks.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport taskService from '../services/taskService';\n\nconst useTasks = () => {\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchTasks = async () => {\n    try {\n      setLoading(true);\n      const data = await taskService.getAllTasks();\n      setTasks(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch tasks');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addTask = async (task) => {\n    try {\n      const newTask = await taskService.createTask(task);\n      setTasks(prevTasks => [...prevTasks, newTask]);\n      return newTask;\n    } catch (err) {\n      setError(err.message || 'Failed to add task');\n      throw err;\n    }\n  };\n\n  const updateTask = async (id, updatedTask) => {\n    try {\n      const task = await taskService.updateTask(id, updatedTask);\n      setTasks(prevTasks => \n        prevTasks.map(t => t.id === id ? task : t)\n      );\n      return task;\n    } catch (err) {\n      setError(err.message || 'Failed to update task');\n      throw err;\n    }\n  };\n\n  const deleteTask = async (id) => {\n    try {\n      await taskService.deleteTask(id);\n      setTasks(prevTasks => prevTasks.filter(t => t.id !== id));\n    } catch (err) {\n      setError(err.message || 'Failed to delete task');\n      throw err;\n    }\n  };\n\n  const completeTask = async (id) => {\n    try {\n      const task = await taskService.markTaskAsCompleted(id);\n      setTasks(prevTasks => \n        prevTasks.map(t => t.id === id ? task : t)\n      );\n      return task;\n    } catch (err) {\n      setError(err.message || 'Failed to complete task');\n      throw err;\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return {\n    tasks,\n    loading,\n    error,\n    fetchTasks,\n    addTask,\n    updateTask,\n    deleteTask,\n    completeTask,\n  };\n};\n\nexport default useTasks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}